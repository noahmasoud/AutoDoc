{
  "run_id": 32,
  "repo": "AutoDoc",
  "branch": "dev",
  "commit_sha": "411fe506d58bdfc560ca69d040a9302b29731e4e",
  "is_dry_run": false,
  "timestamp": "2025-12-08T20:38:10.189433+00:00",
  "patches_count": 1,
  "patches": [
    {
      "id": 21,
      "run_id": 32,
      "page_id": "7700481",
      "status": "Applied",
      "diff_before": "# Before Changes\n\n- **send_payment_notification** (modified)",
      "diff_after": "```xml\n<h1>send_payment_notification Function</h1>\n\n<p>Sends payment notifications to users through multiple communication channels with validation and tracking.</p>\n\n<h2>Purpose</h2>\n<p>This function delivers payment-related notifications to users via email, SMS, or push notifications. It validates the notification channel and returns delivery status with tracking information for monitoring purposes.</p>\n\n<h2>Parameters</h2>\n<table>\n<tbody>\n<tr>\n<th>Parameter</th>\n<th>Type</th>\n<th>Required</th>\n<th>Default</th>\n<th>Description</th>\n</tr>\n<tr>\n<td><strong>user_id</strong></td>\n<td>str</td>\n<td>Yes</td>\n<td>-</td>\n<td>Unique identifier for the target user</td>\n</tr>\n<tr>\n<td><strong>payment_id</strong></td>\n<td>str</td>\n<td>Yes</td>\n<td>-</td>\n<td>Payment transaction ID to reference</td>\n</tr>\n<tr>\n<td><strong>notification_type</strong></td>\n<td>str</td>\n<td>No</td>\n<td>\"email\"</td>\n<td>Delivery channel: \"email\", \"sms\", or \"push\"</td>\n</tr>\n</tbody>\n</table>\n\n<h2>Returns</h2>\n<p><strong>dict</strong>: Notification delivery result containing:</p>\n<ul>\n<li><strong>user_id</strong>: Target user identifier</li>\n<li><strong>payment_id</strong>: Referenced payment ID</li>\n<li><strong>notification_type</strong>: Selected delivery channel</li>\n<li><strong>status</strong>: Delivery status (\"sent\")</li>\n<li><strong>tracking_id</strong>: Unique tracking identifier</li>\n</ul>\n\n<h2>Example Usage</h2>\n<ac:structured-macro ac:name=\"code\" ac:schema-version=\"1\">\n<ac:parameter ac:name=\"language\">python</ac:parameter>\n<ac:parameter ac:name=\"theme\">Confluence</ac:parameter>\n<ac:plain-text-body><![CDATA[# Send email notification (default)\nresult = send_payment_notification(\"user123\", \"pay_456\")\nprint(result[\"tracking_id\"])  # notif_pay_456_email\n\n# Send SMS notification\nsms_result = send_payment_notification(\n    user_id=\"user123\",\n    payment_id=\"pay_789\", \n    notification_type=\"sms\"\n)\n\n# Send push notification\npush_result = send_payment_notification(\"user123\", \"pay_101\", \"push\")\n]]></ac:plain-text-body>\n</ac:structured-macro>\n\n<h2>Notes</h2>\n<ac:structured-macro ac:name=\"panel\" ac:schema-version=\"1\">\n<ac:parameter ac:name=\"panelType\">info</ac:parameter>\n<ac:parameter ac:name=\"title\">Important</ac:parameter>\n<ac:plain-text-body><![CDATA[• Function raises ValueError for invalid notification types\n• Valid notification types: \"email\", \"sms\", \"push\"\n• Tracking ID format: notif_{payment_id}_{notification_type}\n• All notifications return \"sent\" status (mock implementation)]]></ac:plain-text-body>\n</ac:structured-macro>\n\n<p><strong>Raises:</strong> <code>ValueError</code> when notification_type is not in allowed values</p>\n```",
      "approved_by": "system",
      "applied_at": "2025-12-08T20:38:10.173564",
      "error_message": null
    }
  ]
}